<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="style.css" />
    <title>Pig Game</title>
  </head>
  <body>
    <main>
      <section class="player player--0 player--active">
        <h2 class="name" id="name--0">Player 1</h2>
        <p class="score" id="score--0">43</p>
        <div class="current">
          <p class="current-label">Current</p>
          <p class="current-score" id="current--0">0</p>
        </div>
      </section>
      <section class="player player--1">
        <h2 class="name" id="name--1">Player 2</h2>
        <p class="score" id="score--1">24</p>
        <div class="current">
          <p class="current-label">Current</p>
          <p class="current-score" id="current--1">0</p>
        </div>
      </section>

      <img src="dice-5.png" alt="Playing dice" class="dice" />
      <button class="btn btn--new">ğŸ”„ New game</button>
      <button class="btn btn--roll">ğŸ² Roll dice</button>
      <button class="btn btn--hold">ğŸ“¥ Hold</button>
    </main>
    <script src="script.js"></script>
  </body>

  <script.js>
  "use strict";

  //1. Selecting elements
  const player0El = document.querySelector(".player--0"); //í˜„ì¬ í”Œë ˆì´ì–´
  const player1El = document.querySelector(".player--1");
  const score0El = document.querySelector("#score--0"); //ì´ ëˆ„ì  ì ìˆ˜
  const score1El = document.getElementById("score--1");
  const current0El = document.getElementById("current--0"); //í•´ë‹¹ íŒì˜ ëˆ„ì ì ìˆ˜
  const current1El = document.getElementById("current--1");
  const diceEl = document.querySelector(".dice"); //ì£¼ì‚¬ìœ„
  const btnNew = document.querySelector(".btn--new");
  const btnRoll = document.querySelector(".btn--roll");
  const btnHold = document.querySelector(".btn--hold");
  
  // init ë‚´ì— ì§€ì—­ìŠ¤ì½”í”„ì˜€ë˜ í•¨ìˆ˜ë“¤ì„, init ë°–ì—ì„œ ì„ ì–¸í•˜ì—¬ ì „ì—­ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•¨.
  // letì€ ê°’ì´ í•„ìš” ì—†ìœ¼ë©°, ì‰¼í‘œë¡œ ë³µìˆ˜ ì„ ì–¸ì´ ê°€ëŠ¥.
  // currentScoreëŠ” init í•¨ìˆ˜ ë°–ì—ì„œ ì„ ì–¸í•´ì•¼ í•¨. ì•ˆ ê·¸ëŸ¬ë©´, ì£¼ì‚¬ìœ„ ëŒë¦´ ë•Œë§ˆë‹¤ ì´ˆê¸°ê°’(0)ìœ¼ë¡œ ë°”ë€œ.
  let scores, currentScore, activePlayer, playing;
  
  //2. Starting conditions
  // ì´ˆê¸°ê°’ í•¨ìˆ˜ ì„ ì–¸
  const init = function () {
    //CSSì˜ hidden ìŠ¤íƒ€ì¼ ì¶”ê°€
    //btnRoll ì´ë²¤íŠ¸ ì•ˆì— ìƒì„±í•˜ë©´, ì ìˆ˜ê°€ ë§¤ë²ˆ ì´ˆê¸°í™” ë˜ê¸° ë•Œë¬¸ì—, ì´ë²¤íŠ¸ ì™¸ë¶€ì— ë³€ìˆ˜ë¥¼ ìƒì„±.
    //   const scores = [0, 0];
    //   let currentScore = 0;
    //   let activePlayer = 0;
    //   let playing = true;
  
    // ìœ„ì—ì„œ letìœ¼ë¡œ ë³µìˆ˜ ì„ ì–¸í•œ ê°’ë“¤.
    // â­ï¸ìƒìœ„ 4ê°œ ë³€ìˆ˜ëŠ” DOM ì™¸ì˜ ë³€ìˆ˜ë“¤. HTMLë¡œ ìœ ì €ì—ê²Œ ë³´ì—¬ì§€ëŠ” ë‚´ìš©ë§ê³ , ê·¸ ë’¤ì—ì„œ ì‹¤ì œë¡œ ì—°ì‚°ì´ ì¼ì–´ë‚  ë³€ìˆ˜ë“¤.
    currentScore = 0; //â­ï¸4. Switch ë˜ë©´, currentScoreëŠ” ìë™ìœ¼ë¡œ 0ìœ¼ë¡œ ë°”ë€Œê³ , í•´ë‹¹ í”Œë ˆì´ì–´ë„ ìë™ìœ¼ë¡œ ì „í™˜ë¨. ë”°ë¼ì„œ currentScore[0,0]ê°™ì´ ì“°ì§€ ì•ŠìŒ
    scores = [0, 0]; //5. ë‘ í”Œë ˆì´ì–´ì˜ ëˆ„ì ì ìˆ˜ë¥¼ ë°°ì—´ë¡œ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
    activePlayer = 0; //â­ï¸6. í˜„ì¬ í”Œë ˆì´ì–´. í”Œë ˆì´ì–´ 1ë¶€í„° ê²Œì„ ì‹œì‘ì´ê¸° ë•Œë¬¸ì—, 0ì„ ë„£ìŒ. Switchí•˜ë©´ 0->1(í”Œë ˆì´ì–´ 2)ë¡œ ì „í™˜
    playing = true; // 7. í˜„ì¬ ê²Œì„ ì§„í–‰ ì¤‘ ì—¬ë¶€
  
    score0El.textContent = 0;
    score1El.textContent = 0;
    current0El.textContent = 0;
    current1El.textContent = 0;
  
    diceEl.classList.add("hidden");
    player0El.classList.remove("player--winner");
    player1El.classList.remove("player--winner");
    player0El.classList.add("player--active");
    player1El.classList.remove("player--active");
  };
  
  // ì´ˆê¸°ê°’ ëª¨ìŒì„ initë¡œ ì„ ì–¸í–ˆì§€ë§Œ, í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤
  // ë”°ë¼ì„œ ì´ë ‡ê²Œ í˜¸ì¶œí•´ì¤˜ì•¼í•¨.
  init();
  
  // btnRollê³¼ btnHoldì—ì„œ ë°˜ë³µë  ì½”ë“œì„ìœ¼ë¡œ í•¨ìˆ˜ë¡œ ì„ ì–¸
  const switchPlayer = function () {
    // Switch to next
    // 1ì´ ë‚˜ì˜¤ë©´ ì ìˆ˜ê°€ 0ì ë¨.
    // ê·¸ëŸ¼ ìƒëŒ€ë°©ì—ê²Œ í„´ ë„˜ê¹€
    document.getElementById(`current--${activePlayer}`).textContent = 0;
    currentScore = 0;
    activePlayer = activePlayer === 0 ? 1 : 0;
  
    //í˜„ì¬ í”Œë ˆì´ì–´ì— ë°°ê²½ ë„£ê¸°
    // toggle: ìŠ¤íƒ€ì¼ì´ ì´ë¯¸ ìˆìœ¼ë©´ ë¹¼ê³ , ì´ë¯¸ ì—†ìœ¼ë©´ ë„£ê³ 
    player0El.classList.toggle("player--active");
    player1El.classList.toggle("player--active");
  };
  
  //3. Rolling dice functionality
  btnRoll.addEventListener("click", function () {
    // ì´ë¯¸ ìœ„ì—ì„œ playing = trueë¼ëŠ” booleanì„ ì„ ì–¸í•¨
    // ì¦‰ ì•„ë˜ ì½”ë“œë“¤ì€ ê²Œì„ ì¤‘(true)ì¼ ë•Œë§Œ ì£¼ì‚¬ìœ„ êµ´ë¦¬ê¸° ê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸
    if (playing) {
      //3-1. Generating a random dice roll
      const dice = Math.trunc(Math.random() * 6) + 1;
  
      //3-2. Display dice
      diceEl.classList.remove("hidden"); // ì‹œì‘ ë•Œ ìˆ¨ê²¨ì¡Œë˜ ì£¼ì‚¬ìœ„ ë³´ì—¬ì£¼ê¸°
      diceEl.src = `asset/dice-${dice}.png`;
  
      //3-3. Check for rolled 1
      if (dice !== 1) {
        // Add dice to current score
        // 1 ë¼ìš´ë“œ ê¸°ì¤€: í”Œë ˆì´ì–´ 1ì˜ 0ì  + ì£¼ì‚¬ìœ„ ìˆ«ì
        currentScore += dice;
        // í˜„ì¬ í”Œë ˆì´ì–´ì— ë”°ë¥´ëŠ” ë™ì  ì½”ë“œ
        document.getElementById(`current--${activePlayer}`).textContent =
          currentScore;
      } else {
        switchPlayer();
      }
    }
  });
  
  // 8.
  btnHold.addEventListener("click", function () {
    // btnRollê³¼ ê°™ì´, ê²Œì„ ì¤‘(true)ì¼ ë•Œë§Œ holdë¥¼ ëˆ„ë¥¼ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸
    if (playing) {
      // 1. Add current score to active player's score
      // scores[1] = scores[1] + currentScore
      scores[activePlayer] += currentScore;
      document.getElementById(`score--${activePlayer}`).textContent =
        scores[activePlayer];
      // 2. Check if player's score is >== 20
      if (scores[activePlayer] >= 20) {
        // Finish the game
        // >=20ì´ ë˜ë©´, ê²Œì„ ì¤‘ì´ ì•„ë‹˜(false)ë°”ë€Œê³ , ìë™ìœ¼ë¡œ ìœ„ì— btnRollê³¼ btnHoldëŠ” ë‹«íˆê²Œ ë¨
        playing = false;
        document
          .querySelector(`.player--${activePlayer}`)
          .classList.add("player--winner");
        document
          .querySelector(`.player--${activePlayer}`)
          .classList.remove("player--active");
      } else {
        // Switch to the next player
        switchPlayer();
      }
    }
  });
  
<style.css>
  @import url('https://fonts.googleapis.com/css2?family=Nunito&display=swap');

  * {
    margin: 0;
    padding: 0;
    box-sizing: inherit;
  }
  
  html {
    font-size: 62.5%;
    box-sizing: border-box;
  }
  
  body {
    font-family: 'Nunito', sans-serif;
    font-weight: 400;
    height: 100vh;
    color: #333;
    background-image: linear-gradient(to top left, #753682 0%, #bf2e34 100%);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  /* LAYOUT */
  main {
    position: relative;
    width: 100rem;
    height: 60rem;
    background-color: rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(200px);
    filter: blur();
    box-shadow: 0 3rem 5rem rgba(0, 0, 0, 0.25);
    border-radius: 9px;
    overflow: hidden;
    display: flex;
  }
  
  .player {
    flex: 50%;
    padding: 9rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: all 0.75s;
  }
  
  /* ELEMENTS */
  .name {
    position: relative;
    font-size: 4rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    word-spacing: 2px;
    font-weight: 300;
    margin-bottom: 1rem;
  }
  
  .score {
    font-size: 8rem;
    font-weight: 300;
    color: #c7365f;
    margin-bottom: auto;
  }
  
  .player--active {
    background-color: rgba(255, 255, 255, 0.4);
  }
  .player--active .name {
    font-weight: 700;
  }
  .player--active .score {
    font-weight: 400;
  }
  
  .player--active .current {
    opacity: 1;
  }
  
  .current {
    background-color: #c7365f;
    opacity: 0.8;
    border-radius: 9px;
    color: #fff;
    width: 65%;
    padding: 2rem;
    text-align: center;
    transition: all 0.75s;
  }
  
  .current-label {
    text-transform: uppercase;
    margin-bottom: 1rem;
    font-size: 1.7rem;
    color: #ddd;
  }
  
  .current-score {
    font-size: 3.5rem;
  }
  
  /* ABSOLUTE POSITIONED ELEMENTS */
  .btn {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    color: #444;
    background: none;
    border: none;
    font-family: inherit;
    font-size: 1.8rem;
    text-transform: uppercase;
    cursor: pointer;
    font-weight: 400;
    transition: all 0.2s;
  
    background-color: white;
    background-color: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
  
    padding: 0.7rem 2.5rem;
    border-radius: 50rem;
    box-shadow: 0 1.75rem 3.5rem rgba(0, 0, 0, 0.1);
  }
  
  .btn::first-letter {
    font-size: 2.4rem;
    display: inline-block;
    margin-right: 0.7rem;
  }
  
  .btn--new {
    top: 4rem;
  }
  .btn--roll {
    top: 39.3rem;
  }
  .btn--hold {
    top: 46.1rem;
  }
  
  .btn:active {
    transform: translate(-50%, 3px);
    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.15);
  }
  
  .btn:focus {
    outline: none;
  }
  
  .dice {
    position: absolute;
    left: 50%;
    top: 16.5rem;
    transform: translateX(-50%);
    height: 10rem;
    box-shadow: 0 2rem 5rem rgba(0, 0, 0, 0.2);
  }
  
  .player--winner {
    background-color: #2f2f2f;
  }
  
  .player--winner .name {
    font-weight: 700;
    color: #c7365f;
  }
  
  .hidden {
    display: none;
  }
  
  btnNew.addEventListener("click", init);  
</html>
